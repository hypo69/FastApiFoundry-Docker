# üîê Environment Variables Setup - Complete Guide

**–í–µ—Ä—Å–∏—è:** 0.2.1  
**–ü—Ä–æ–µ–∫—Ç:** FastApiFoundry (Docker)  
**–î–∞—Ç–∞:** 9 –¥–µ–∫–∞–±—Ä—è 2025  

---

## üìã –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:
- **`.env.example`** - –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **`.env`** - –†–µ–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª —Å –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –≤ Git)
- **`config.json`** - –û–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### üõ†Ô∏è –£—Ç–∏–ª–∏—Ç—ã:
- **`check_env.py`** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **`setup-env.ps1`** - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (PowerShell)
- **`src/utils/env_processor.py`** - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ config.json

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- **`docs/environment.md`** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```powershell
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (Windows)
.\setup-env.ps1

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
python check_env.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å –ø–æ–∫–∞–∑–æ–º —Å–µ–∫—Ä–µ—Ç–æ–≤ (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
python check_env.py --show-secrets
```

### 3. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```bash
# –û–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫
python run.py

# –ò–ª–∏ –ø–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å Foundry (Windows)
.\start.ps1
```

---

## üîë –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### GitHub Configuration:
```env
GITHUB_USER=your_username
GITHUB_PASSWORD=your_password_or_token
GITHUB_PAT=ghp_your_personal_access_token_here
```

### API Configuration:
```env
API_KEY=your_secret_api_key_here
SECRET_KEY=your_jwt_secret_key_here
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
```

### Foundry AI Configuration:
```env
FOUNDRY_BASE_URL=http://localhost:50477/v1
FOUNDRY_API_KEY=optional_foundry_api_key
FOUNDRY_TIMEOUT=30
```

---

## üîß –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ config.json

–§–∞–π–ª `config.json` —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```json
{
  "security": {
    "api_key": "${API_KEY}",
    "secret_key": "${SECRET_KEY}",
    "cors_origins": "${CORS_ORIGINS:*}"
  },
  "foundry_ai": {
    "base_url": "${FOUNDRY_BASE_URL:http://localhost:50477/v1}",
    "timeout": "${FOUNDRY_TIMEOUT:300}"
  },
  "logging": {
    "level": "${LOG_LEVEL:INFO}"
  }
}
```

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å:**
- `${VAR_NAME}` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
- `${VAR_NAME:default}` - —Å –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

---

## üõ†Ô∏è –£—Ç–∏–ª–∏—Ç—ã

### check_env.py
```bash
# –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
python check_env.py

# –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤
python check_env.py --show-secrets

# –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–µ–π
python check_env.py --generate-keys
```

### setup-env.ps1 (PowerShell)
```powershell
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
.\setup-env.ps1

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å
.\setup-env.ps1 -Force

# –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π
.\setup-env.ps1 -GenerateKeys
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
- `.env` —Ñ–∞–π–ª –∏—Å–∫–ª—é—á–µ–Ω –∏–∑ Git (.gitignore)
- –°–æ–∑–¥–∞–Ω `.env.example` –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞
- –°–µ–∫—Ä–µ—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –º–∞—Å–∫–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –≤—ã–≤–æ–¥–µ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∫–ª—é—á–µ–π

### ‚ö†Ô∏è –í–∞–∂–Ω–æ:
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π `.env` —Ñ–∞–π–ª
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –∏ —Ç–æ–∫–µ–Ω—ã
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ API –∫–ª—é—á–∏
- –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –¥—Ä—É–≥–∏–º –ª—é–¥—è–º

---

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:
- `start.ps1` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `.env`
- `run.py` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `env_processor` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ config.json
- –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ `os.getenv()`

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ –∫–æ–¥–µ:
```python
from src.utils.env_processor import process_config

# –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
config = process_config('config.json')
```

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. GitHub API:
```python
import os
github_token = os.getenv('GITHUB_PAT')
github_user = os.getenv('GITHUB_USER')
```

### 2. API Security:
```python
api_key = os.getenv('API_KEY')
secret_key = os.getenv('SECRET_KEY')
```

### 3. Foundry Connection:
```python
foundry_url = os.getenv('FOUNDRY_BASE_URL', 'http://localhost:50477/v1')
```

---

## üö® Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç .env —Ñ–∞–π–ª–∞
python check_env.py

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -la .env  # Linux/Mac
dir .env     # Windows
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
cat .env | grep -v '^#' | grep '='
```

### –ü—Ä–æ–±–ª–µ–º–∞: Config.json –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
python src/utils/env_processor.py config.json
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [docs/environment.md](docs/environment.md)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: `python check_env.py`
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞**: `.\setup-env.ps1`
- **GitHub**: https://github.com/hypo69/FastApiFoundry-Docker

---

**‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!**

–¢–µ–ø–µ—Ä—å –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `.env` —Ñ–∞–π–ª.