<!--
===============================================================================
–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞: –ß–∞—Ç —Å AI –º–æ–¥–µ–ª—è–º–∏ —á–µ—Ä–µ–∑ FastAPI Foundry
===============================================================================
–û–ø–∏—Å–∞–Ω–∏–µ:
    –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–µ–±-—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ AI –º–æ–¥–µ–ª—è–º–∏ —á–µ—Ä–µ–∑ Foundry.
    –í–∫–ª—é—á–∞–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, API endpoints –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã.

–ü—Ä–∏–º–µ—Ä—ã:
    –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã:
    .\start.ps1
    
    API –∑–∞–ø—Ä–æ—Å:
    curl -X POST http://localhost:9696/api/v1/chat/start

File: CHAT_README.md
Project: FastApiFoundry (Docker)
Version: 0.2.1
Author: hypo69
License: CC BY-NC-SA 4.0 (https://creativecommons.org/licenses/by-nc-sa/4.0/)
Copyright: ¬© 2025 AiStros
Date: 9 –¥–µ–∫–∞–±—Ä—è 2025
===============================================================================
-->

# FastAPI Foundry - –ß–∞—Ç —Å AI –º–æ–¥–µ–ª—è–º–∏

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–µ–±-—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ AI –º–æ–¥–µ–ª—è–º–∏ —á–µ—Ä–µ–∑ Foundry.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `start.ps1` (Windows) –∏–ª–∏ `start.bat`:

```powershell
.\start.ps1
```



–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç Foundry
- –ó–∞–ø—É—Å—Ç–∏—Ç –º–æ–¥–µ–ª—å qwen2.5-0.5b-instruct-generic-cpu:4 (—Å–∞–º–∞—è –ª–µ–≥–∫–∞—è CPU –º–æ–¥–µ–ª—å)
- –û—Å–≤–æ–±–æ–¥–∏—Ç –ø–æ—Ä—Ç 8000 –µ—Å–ª–∏ –æ–Ω –∑–∞–Ω—è—Ç
- –ó–∞–ø—É—Å—Ç–∏—Ç FastAPI —Å–µ—Ä–≤–µ—Ä

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:9696/static/chat.html

## üìã API Endpoints

### –ß–∞—Ç

- `POST /api/v1/chat/start` - –ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é —á–∞—Ç–∞
- `POST /api/v1/chat/message` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
- `DELETE /api/v1/chat/session/{session_id}` - –£–¥–∞–ª–∏—Ç—å —Å–µ—Å—Å–∏—é
- `GET /api/v1/chat/models` - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

```bash
# –ù–∞—á–∞—Ç—å —Å–µ—Å—Å–∏—é
curl -X POST http://localhost:9696/api/v1/chat/start \
  -H "Content-Type: application/json" \
  -d '{"model": "qwen2.5-0.5b-instruct-generic-cpu:4", "use_rag": false}'

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
curl -X POST http://localhost:9696/api/v1/chat/message \
  -H "Content-Type: application/json" \
  -d '{
    "session_id": "your-session-id",
    "message": "–ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?",
    "model": "qwen2.5-0.5b-instruct-generic-cpu:4",
    "temperature": 0.7,
    "max_tokens": 2048
  }'
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Backend (src/)

- `api/main.py` - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI
- `api/app.py` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `api/endpoints/chat_endpoints.py` - Endpoints –¥–ª—è —á–∞—Ç–∞
- `models/enhanced_foundry_client.py` - –ö–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Foundry API

### Frontend (static/)

- `static/chat.html` - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–∞—Ç–∞
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ API

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–í `start.ps1` –∏–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä –º–æ–¥–µ–ª–∏:

```powershell
param(
    [int]$Port = 8000,
    [string]$Model = "–≤–∞—à–∞-–º–æ–¥–µ–ª—å"  # –ò–∑–º–µ–Ω–∏—Ç–µ –∑–¥–µ—Å—å
)
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ Foundry API. –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏:

- `qwen2.5-0.5b-instruct-generic-cpu:4` - –°–∞–º–∞—è –ª–µ–≥–∫–∞—è CPU –º–æ–¥–µ–ª—å (0.8 GB)
- `qwen2.5-1.5b-instruct-generic-cpu:4` - –°—Ä–µ–¥–Ω—è—è CPU –º–æ–¥–µ–ª—å (1.78 GB)
- `deepseek-r1-7b` - –ú–æ–¥–µ–ª—å DeepSeek R1 (6.43 GB CPU)
- `phi-3-mini-4k-instruct-openvino-gpu:1` - GPU –º–æ–¥–µ–ª—å

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç
–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–æ—Ä—Ç 8000, —É–±–∏–≤–∞—è –ø—Ä–æ—Ü–µ—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç.

### Foundry –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Foundry —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ PATH.

### –ú–æ–¥–µ–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Foundry:
```bash
foundry service status
```

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ FastAPI —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8000.

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞: `logs/`
- –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã: `GET /api/v1/health`
- –°–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π: `GET /api/v1/chat/models`

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä (Ctrl+C)
2. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ: `.\start.ps1`

---

**–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è AI –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ Foundry.**